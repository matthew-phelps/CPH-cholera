---
title: "DIC-WAIC comparison"
author: "Matthew"
output: pdf_document
---

```{r setup, include=FALSE, cache=FALSE}
knitr::opts_chunk$set(echo = FALSE)
knitr::opts_knit$set(root.dir = normalizePath('..'))

```
```{r load, echo=FALSE, include=FALSE}
library(pander)
library(dplyr)
load(file = "Data/Rdata/DIC_ls.Rdata")
load(file = "Data/Rdata/waic_ls.Rdata")
mod_names <- c("model 1", "model 2", "model 3",
               "model 4", "model 5")
```

DIC and WAIC values for each model. Table ranked from lowest to highest by value. Model 1 is least complex, model 5 is most complex
```{r dic}
# Produce DIC summary - output is penalized deviance
getPenDic <- function(x) sum(x$deviance) + sum(x$penalty)
modelDic <- function(z) mean(sapply(z, getPenDic))
summaryDic <- function(y) sapply(y, modelDic)
dic1 <- DIC_list %>%
  summaryDic() %>%
  data.frame() %>%
  `colnames<-` ("DIC*") %>%
  mutate(model = mod_names) %>%
arrange(`DIC*`)

```

```{r waic}
mean_waic_model <- function(x) mean(sapply(x, function(x) x$waic))
waic_summary <- function(x) sapply(x, mean_waic_model)
waic1 <- waic_list %>%
  waic_summary %>%
  data.frame %>%
  `colnames<-` ("WAIC*") %>%
mutate(model = mod_names) %>%
arrange(`WAIC*`)
```

```{r table}
pander(dic1)
pander(waic1)
```
\*values for each model are averaged over 10 possible 'realizations' of the epidemic
